<Window x:Class="EyeOut.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="600" Width="800"
        xmlns:C_controlMot="clr-namespace:EyeOut" Closing="Window_Closing" 
        
        >
    <!--Closed="Window_Closed"-->
    
    
    
    
    <!--instances of binding classes, styles definitions-->
    <Window.Resources>
        <!--new instance of C_controlMot named controlMot-->
        <C_controlMot:C_controlMot x:Key="controlMot"/>
    </Window.Resources>

    <DockPanel>
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <Label x:Name="tslConnected" Content="Connected" BorderThickness="1" BorderBrush="Black"/>
            </StatusBarItem>
        </StatusBar>

        <TabControl>
            <TabItem Header="Dynamixel Motors" Background="Orange">
                <!--<Grid Background="#FFE5E5E5">-->
                <Grid Background="Orange">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="142" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <DockPanel Grid.Column="0" Grid.Row="0">
                        <GroupBox DockPanel.Dock="Top" Header="Connection control">
                            <StackPanel>
                                <GroupBox Header="Protocol" >
                                    <StackPanel>
                                        <Label Content="COM Port:"/>
                                        <ComboBox Name="cbPort"/>
                                        <Button Name="btnRescanPort" Content="Rescan Ports" Click="btnRescanPort_Click" />
                                        <Label Content="Selected [bps]:"/>
                                        <TextBox Name="txBaudRate" Background="#FF66FF4E">
                                            <TextBox.Text>
                                                <!--<Binding ElementName="lsBaudRate" Path="SelectedValue"/>-->
                                                <Binding Source="{StaticResource controlMot}" Path="_BaudRate">
                                                    <Binding.ValidationRules>
                                                        <ExceptionValidationRule/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </TextBox.Text>
                                        </TextBox>
                                        <Label Content="BaudRate list:"/>
                                        <ListBox x:Name="lsBaudRate" MinHeight="20" SelectionMode="Single" SelectedIndex="0">
                                            <ListBox.SelectedValue>
                                                <Binding Source="{StaticResource controlMot}" Path="_BaudRate">
                                                    <Binding.ValidationRules>
                                                        <ExceptionValidationRule/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </ListBox.SelectedValue>

                                        </ListBox>
                                    </StackPanel>
                                </GroupBox>
                                <Button Name="btnConnect" Content="Connect" Click="btnConnect_Click" />
                            </StackPanel>
                        </GroupBox>
                        <GroupBox DockPanel.Dock="Top" Header="Motor settings" >
                            <StackPanel>
                                <Button Content="Search for connected" />
                                <GroupBox Header="Select">
                                    <ListBox Name="lsMot" MinHeight="40"/>
                                </GroupBox>
                                <GroupBox Header="Selected motor info" VerticalAlignment="Top">
                                    <StackPanel>
                                        <ListBox Name="lsInfo" MinHeight="40" SelectionMode="Multiple"/>
                                        <TextBox>
                                            Selected information
                                        </TextBox>
                                    </StackPanel>
                                </GroupBox>

                            </StackPanel>
                        </GroupBox>
                        
                        <Button DockPanel.Dock="Top" MaxHeight="20" Content="START motors" VerticalAlignment="Top" Click="btnStartMotors_Click" />
                    </DockPanel>
                    <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" />

                    <Grid Grid.Column="2" Background="#FFE5E5E5">
                        <Grid.RowDefinitions>
                            <RowDefinition Height= "*" />
                            <RowDefinition Height="5" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>


                        <DockPanel Grid.Row="0" >
                            <Grid Grid.Column="2" Background="#FFE5E5E5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="5" />
                                    <ColumnDefinition Width="250" />
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0">Interactive image</TextBox>
                                <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" />

                                <GroupBox x:Name="gpCmds" Header="Example commands" Grid.Column="2">
                                    <Grid>
                                        <DockPanel>
                                            <ListBox x:Name="lsCmdEx" DockPanel.Dock="Top" MinHeight="40" MouseDoubleClick="lsCmdEx_wannaSend" KeyDown="lsCmdEx_wannaSend" />
                                            <CheckBox x:Name="cbExampleDoubleClick" Content="Send by DoubleClick and Enter" DockPanel.Dock="Top" IsChecked="True"/>
                                            <Button Name="btnSendExample" Content="Send selected [Example command]" VerticalAlignment="Top" DockPanel.Dock="Top" MaxHeight="20">
                                            </Button>
                                        </DockPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </DockPanel>

                        <GridSplitter Grid.Row="1" Width="5" HorizontalAlignment="Stretch" />

                        <DockPanel Grid.Row="2" >
                            <Grid Grid.Column="2" Background="#FFE5E5E5">
                                <Grid Grid.Column="2" Background="#FFE5E5E5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="5" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox Name="txLogMot" Grid.Column="0">Log</TextBox>
                                    <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" />
                                    <TextBox Grid.Column="2">Info</TextBox>
                                </Grid>
                            </Grid>
                        </DockPanel>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem Header="Basler Camera" Background="GreenYellow">
                <Grid Background="GreenYellow">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="85*"/>
                        <ColumnDefinition Width="169*"/>
                    </Grid.ColumnDefinitions>
                    <Image HorizontalAlignment="Left" Height="100" Margin="227.5,10,0,0" VerticalAlignment="Top" Width="100" Source="pack://siteoforigin:,,,/pic/eyeout.png" Grid.Column="1"/>
                </Grid>
            </TabItem>

            <TabItem Header="Oculus Headset" Background="DeepSkyBlue">
                <Grid Background="DeepSkyBlue" Width="175" Height="150">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <DockPanel Grid.Column="0" Grid.Row="0">
                        <Image Source="pack://siteoforigin:,,,/pic/eyeout.png"  />
                        <Image Source="pack://siteoforigin:,,,/pic/eyeout.png"  />
                        <Image Source="pack://siteoforigin:,,,/pic/eyeout.png"  Stretch="Fill"/>
                    </DockPanel>

                    <StackPanel Grid.Column="0" Grid.Row="1"  Orientation="Horizontal">
                        <Image Source="pack://siteoforigin:,,,/pic/eyeout.png"  />
                        <Image Source="pack://siteoforigin:,,,/pic/eyeout.png" />
                        <Image Source="pack://siteoforigin:,,,/pic/eyeout.png" Stretch="Fill"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <TabItem Header="EyeOut Telepresence" Foreground="Wheat" Background="Black">
                <!--<Grid Background="#FFE5E5E5">-->
                <Grid Background="Black" >
                    
                </Grid>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
